---
import { Image } from 'astro:assets'

import image from '@assets/image.jpg'
import { ReactComponent } from '@components/ReactComponent'
import VueComponent from '@components/VueComponent.vue'
import {
  getLocaleFromUrl,
  useTranslatedPath,
  useTranslations,
  getStaticPathsForLocales
} from '../../i18n/utils'
import Layout from '../../layouts/Layout.astro'

export async function getStaticPaths() {
  return getStaticPathsForLocales()
}

const t = useTranslations(Astro.url)
const lang = getLocaleFromUrl(Astro.url)
const tranlatedPath = useTranslatedPath(lang)
---

<Layout title="Welcome to Astro.">
  <main>
    <h1>Home! {t('home')}</h1>
    <ReactComponent>
      <Image src={image} alt="" />
    </ReactComponent>
    <VueComponent>
      <Image src={image} alt="" />
    </VueComponent>
    <a href={tranlatedPath('product')}> aaaa </a>
  </main>
</Layout>
